{% extends 'base.html' %}
{% load static %}
{% block content %}

<style>
    @import url('https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600;700&display=swap');

    body {
        font-family: 'Work Sans', Calibri, sans-serif;
        background: url("{% static 'img/fondo-login.jpg' %}") no-repeat center center fixed;
        background-size: cover;
        background-color: #F8F9FA;
    }

    .login-card {
        background-color: #ffffffdd;
        border-radius: 16px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(6px);
    }

    .btn-primary-custom {
        background-color: #39A900;
        border-color: #39A900;
        font-weight: 600;
    }

    .btn-primary-custom:hover {
        background-color: #2f8a00;
        border-color: #2f8a00;
    }

    h3 {
        color: #007832;
        font-weight: 700;
    }

    label {
        font-weight: 500;
    }

    .form-control:focus {
        border-color: #39A900;
        box-shadow: 0 0 0 0.2rem rgba(57, 169, 0, 0.25);
    }

    .password-wrapper {
        position: relative;
    }

    .toggle-password {
    position: absolute;
    right: 10px;
    top: 73%; /* üëà ligeramente m√°s abajo para centrar visualmente */
    transform: translateY(-50%);
    border: none;
    background: none;
    color: #6c757d;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    height: auto;
    line-height: 1;
    padding: 0;
}

    .toggle-password i {
    font-size: 1.3rem;
    transition: color 0.2s ease-in-out;
}

    .toggle-password:hover i {
    color: #39A900; /* verde institucional */
}
</style>

<div class="d-flex justify-content-center align-items-center" style="min-height: 90vh;">
    <div class="card login-card p-4 w-100" style="max-width: 420px;">
        <h3 class="text-center mb-4">Iniciar Sesi√≥n</h3>
        <form method="POST">
            {% csrf_token %}
            <div class="mb-3">
                <label for="email" class="form-label">Correo electr√≥nico</label>
                <input type="email" class="form-control" name="email" id="email" placeholder="ejemplo@correo.com" required>
            </div>
            <div class="mb-3 password-wrapper">
                <label for="password" class="form-label">Contrase√±a</label>
                <input type="password" class="form-control" name="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                <button type="button" class="toggle-password" onclick="togglePassword('password', this)">
                    <i class="bi bi-eye"></i>
                </button>
            </div>
            <div class="mb-3">
                <label for="rol" class="form-label">Rol</label>
                <select class="form-select" name="rol" id="rol" required>
                    <option value="">Seleccione un rol</option>
                    <option value="superadmin">Super Admin</option>
                    <option value="administrador_evento">Administrador de Evento</option>
                    <option value="evaluador">Evaluador</option>
                    <option value="participante">Participante</option>
                    <option value="asistente">Asistente</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary-custom w-100">
                <i class="bi bi-box-arrow-in-right"></i> Ingresar
            </button>
        </form>
    </div>
</div>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<script>
function togglePassword(id, btn) {
    const input = document.getElementById(id);
    const icon = btn.querySelector('i');
    if (input.type === "password") {
        input.type = "text";
        icon.classList.replace('bi-eye', 'bi-eye-slash');
    } else {
        input.type = "password";
        icon.classList.replace('bi-eye-slash', 'bi-eye');
    }
}
</script>

{% endblock %}